---
name: Linting

"on":
  workflow_call:
  push:
    branches-ignore:
      - 'main'

jobs:
  linting:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      ## Source: https://github.com/marketplace/actions/yaml-lint
      - name: Run yaml-lint
        uses: ibiqlik/action-yamllint@v3
        with:
          config_file: .yamllint.yml
          format: github

      ## Source: https://github.com/marketplace/actions/ansible-lint
      - name: Run ansible-lint
        uses: ansible-community/ansible-lint-action@v6
